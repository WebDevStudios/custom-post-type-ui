"use strict";postboxes.add_postbox_toggles(pagenow),function(c){let o,r,n,a=document.querySelector("#name");var e=document.querySelector("#cptui_select_post_type_submit"),e=(e&&(e.style.display="none"),document.querySelector("#cptui_select_taxonomy_submit")),e=(e&&(e.style.display="none"),"edit"===function(e,t){t=t||window.location.href;e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),e=e.exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}("action")&&a&&(o=a.value),document.querySelector("#hierarchical")),e=(e&&e.addEventListener("change",e=>{var t=document.querySelector("#page-attributes");e.currentTarget&&"1"===e.currentTarget.value?t.checked=!0:t.checked=!1}),document.querySelector("#post_type")),t=document.querySelector("#taxonomy"),e=(e&&e.addEventListener("change",()=>{var e=document.querySelector("#cptui_select_post_type");e&&e.submit()}),t&&t.addEventListener("change",()=>{var e=document.querySelector("#cptui_select_taxonomy");e&&e.submit()}),c(".cptui-delete-top, .cptui-delete-bottom").on("click",function(e){e.preventDefault();let t="";"undefined"!=typeof cptui_type_data?t=cptui_type_data.confirm:"undefined"!=typeof cptui_tax_data&&(t=cptui_tax_data.confirm);c('<div class="cptui-submit-delete-dialog">'+t+"</div>").appendTo("#poststuff").dialog({dialogClass:"wp-dialog",modal:!0,autoOpen:!0,buttons:{OK:function(){c(this).dialog("close"),c(e.target).off("click").click()},Cancel:function(){c(this).dialog("close")}}})}),document.querySelectorAll("#support .question"));function i(e){var t,a=/(http|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?/.test(e);return e?0===e.indexOf("dashicons-")?((t=document.createElement("div")).classList.add("dashicons-before"),t.innerHTML="<br/>",t.classList.add(String(e).replace(/[^-\w. ]/gi,function(e){return"&#"+e.charCodeAt(0)+";"})),t):a?(t=encodeURI(e),(a=document.createElement("IMG")).src=t,a):void 0:""}Array.from(e).forEach(function(t,e){let a=!1,c=function(e,t){e=e.nextElementSibling;return!t||e&&e.matches(t)?e:null}(t,"div");c.style.display="none",["click","keydown"].forEach(e=>{t.addEventListener(e,e=>{"keydown"===e.type&&!["Space","Enter"].includes(e.code)||(e.preventDefault(),a=!a,c.style.display=a?"block":"none",e.currentTarget.classList.toggle("active"),e.currentTarget.setAttribute("aria-expanded",a.toString()),e.currentTarget.focus())})})}),a&&a.addEventListener("keyup",e=>{let t,a;t=a=e.currentTarget.value;["Tab","ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(e.code)||(t=(t=function(t){var a=[/[\300-\306]/g,/[\340-\346]/g,/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g];var c=["A","a","E","e","I","i","O","o","U","u","N","n","C","c"];for(let e=0;e<a.length;e++)t=t.replace(a[e],c[e]);return t}(t=(t=t.replace(/ /g,"_")).toLowerCase())).split("").map(function(e){return l[e]||e}).join(""),(t=t.replace(/[^a-z0-9\s-]/gi,"_"))!==a&&(e.currentTarget.value=t)),void 0!==o&&(e=document.querySelector("#slugchanged"),t!==o?e.classList.remove("hidemessage"):e.classList.add("hidemessage"));var e=document.querySelector("#slugexists"),c=document.querySelector("#override_validation"),c=!!c&&c.check;"undefined"!=typeof cptui_type_data&&(cptui_type_data.existing_post_types.hasOwnProperty(t)&&t!==o&&!1===c?e.classList.remove("hidemessage"):e.classList.add("hidemessage")),"undefined"!=typeof cptui_tax_data&&(cptui_tax_data.existing_taxonomies.hasOwnProperty(t)&&t!==o?e.classList.remove("hidemessage"):e.classList.add("hidemessage"))});const l={"Ё":"YO","Й":"I","Ц":"TS","У":"U","К":"K","Е":"E","Н":"N","Г":"G","Ш":"SH","Щ":"SCH","З":"Z","Х":"H","Ъ":"'","ё":"yo","й":"i","ц":"ts","у":"u","к":"k","е":"e","н":"n","г":"g","ш":"sh","щ":"sch","з":"z","х":"h","ъ":"'","Ф":"F","Ы":"I","В":"V","А":"a","П":"P","Р":"R","О":"O","Л":"L","Д":"D","Ж":"ZH","Э":"E","ф":"f","ы":"i","в":"v","а":"a","п":"p","р":"r","о":"o","л":"l","д":"d","ж":"zh","э":"e","Я":"Ya","Ч":"CH","С":"S","М":"M","И":"I","Т":"T","Ь":"'","Б":"B","Ю":"YU","я":"ya","ч":"ch","с":"s","м":"m","и":"i","т":"t","ь":"'","б":"b","ю":"yu"};void 0!==wp.media&&(r=!0,n=wp.media.editor.send.attachment),c("#cptui_choose_icon").on("click",function(e){e.preventDefault();e=c(this);let a=jQuery("#menu_icon").attr("id");return r=!0,wp.media.editor.send.attachment=function(e,t){if(!r)return n.apply(this,[e,t]);c("#"+a).val(t.url).change()},wp.media.editor.open(e),!1}),c("#menu_icon").on("change",function(){var e=(e=c(this).val()).trim();c("#menu_icon_preview").html(i(e))});t=document.querySelectorAll(".cptui-taxonomy-submit");const u=document.querySelector("#cptui-select-post-type-confirm");Array.from(t).forEach((e,t)=>{e.addEventListener("click",e=>{0===document.querySelectorAll('#cptui_panel_tax_basic_settings input[type="checkbox"]:checked').length&&(e.preventDefault(),u.showModal())})});e=document.querySelector("#cptui-select-post-type-confirm-close");e&&e.addEventListener("click",e=>{e.preventDefault(),u.close()});let s=document.querySelector("#auto-populate"),d=(s&&["click","tap"].forEach((e,t)=>{s.addEventListener(e,e=>{e.preventDefault();e=a.value;let c=document.querySelector("#label").value,o=document.querySelector("#singular_label").value;var t=document.querySelectorAll('.cptui-labels input[type="text"]');""!==e&&(""===c&&(c=e),""===o&&(o=e),Array.from(t).forEach(e=>{let t=e.getAttribute("data-label");var a=e.getAttribute("data-plurality");void 0!==t&&(t="plural"===a?t.replace(/item/gi,c):t.replace(/item/gi,o),""===e.value)&&(e.value=t)}))})}),document.querySelector("#auto-clear"));d&&["click","tap"].forEach((e,t)=>{d.addEventListener(e,e=>{e.preventDefault();e=document.querySelectorAll('.cptui-labels input[type="text"]');Array.from(e).forEach(e=>{e.value=""})})});const p=document.querySelector(".cptui-back-to-top");function m(){300<window.scrollY?p.classList.add("show"):p.classList.remove("show")}p&&(document.addEventListener("scroll",()=>{var e,t;e=m,t=500,clearTimeout(e._tId),e._tId=setTimeout(function(){e()},t)}),p.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}));["#cptui_panel_pt_basic_settings","#cptui_panel_pt_additional_labels","#cptui_panel_pt_advanced_settings","#cptui_panel_tax_basic_settings","#cptui_panel_tax_additional_labels","#cptui_panel_tax_advanced_settings"].forEach((e,t)=>{e=document.querySelector(e);if(e){const c=e.getAttribute("id");var a=document.querySelector("#"+c),a=(localStorage.getItem(c)&&null!==localStorage.getItem(c)?a.classList.add("closed"):a.classList.remove("closed"),e.querySelectorAll(".postbox-header"));Array.from(a).forEach((e,t)=>{e.addEventListener("click",e=>{localStorage.getItem(c)?localStorage.removeItem(c):localStorage.setItem(c,"1")})})}})}(jQuery);